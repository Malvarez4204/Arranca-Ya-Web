<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Arranca Ya! - Retos</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{
  --green-primary:#66BB6A;
  --green-dark:#388E3C;
  --green-light:#E8F5E9;
  --gray-light:#f4f7f6;
  --white:#fff;
  --text:#212121;
  --shadow: rgba(0,0,0,0.12);
  --shadow-deep: rgba(0,0,0,0.2);
}

*{box-sizing:border-box;}
body{font-family:'Poppins',sans-serif;margin:0;color:var(--text);background:var(--gray-light);}

/* Header */
header{
  background: var(--green-primary);
  color: #fff;
  padding:20px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  position:sticky;
  top:0;
  z-index:10;
  box-shadow:0 4px 12px var(--shadow-deep);
  flex-wrap:wrap;
}
.brand{display:flex;align-items:center;gap:12px;}
.brand h1{margin:0;font-size:1.7rem;font-weight:700;}
nav{display:flex;gap:16px;flex:1;justify-content:center;flex-wrap:wrap;}
nav a{color:#fff;text-decoration:none;font-weight:600;padding:8px 12px;border-radius:8px;transition: all 0.2s;}
nav a:hover{background:rgba(255,255,255,0.2);}

/* Perfil usuario */
.user-profile{
  display:flex;
  align-items:center;
  gap:12px;
  margin-bottom:24px;
}
.user-profile img{
  width:60px;
  height:60px;
  border-radius:50%;
  object-fit:cover;
  border:3px solid var(--green-dark);
  box-shadow:0 2px 6px var(--shadow);
}
.user-profile span{
  font-weight:700;
  font-size:1.1rem;
  display:flex;
  align-items:center;
  gap:6px;
}

/* Container y grid */
.wrap{max-width:1100px;margin:40px auto;padding:0 16px 50px;}
.grid{display:grid;grid-template-columns:1fr 1fr;gap:20px;}
@media (max-width:900px){.grid{grid-template-columns:1fr;}}

/* Cards */
.card{
  background:var(--white);
  border-radius:16px;
  box-shadow:0 6px 20px var(--shadow-deep);
  padding:20px;
  transition: all 0.3s ease;
}
.card:hover{
  transform: translateY(-5px);
  box-shadow:0 12px 25px var(--shadow-deep);
}
h2{margin:10px 0 12px;color: var(--green-dark);}
h3{margin:8px 0 12px;color:#2b2b2b;}
.muted{color:#686868;font-size:1rem;}

/* Stats */
.stats{display:flex;gap:12px;flex-wrap:wrap;margin-top:10px;}
.stat{
  background:var(--green-light);
  border-radius:14px;
  padding:12px 16px;
  font-weight:600;
  color:var(--green-dark);
  flex:1;
  text-align:center;
  box-shadow:0 2px 8px var(--shadow);
}
.bar{
  height:12px;
  background:#e9f4eb;
  border-radius:999px;
  overflow:hidden;
  margin-top:6px;
}
.bar > div{
  height:100%;
  background:var(--green-dark);
  width:0%;
  border-radius:999px;
  transition: width 1s ease-in-out;
}

/* Quests */
.quest{
  border:1px solid var(--green-light);
  border-radius:14px;
  padding:14px;
  margin:12px 0;
  transition: all 0.3s;
}
.quest:hover{ background:#f1fdf2; transform: translateY(-2px);}
.quest h4{margin:0 0 6px;font-size:1rem;}
.badge{
  display:inline-block;
  background:var(--green-light);
  color:var(--green-dark);
  padding:5px 10px;
  border-radius:999px;
  font-size:.85rem;
  font-weight:600;
  margin-right:6px;
  transition: transform 0.3s;
}
.badge:hover{ transform: scale(1.2); }
.row{display:flex;gap:10px;flex-wrap:wrap;margin-top:8px;}

/* Botones */
.btn{border:0;border-radius:999px;padding:10px 16px;font-weight:700;cursor:pointer;transition: all 0.2s;box-shadow:0 2px 6px var(--shadow);}
.btn-primary{background:var(--green-dark);color:#fff;}
.btn-primary:hover{transform: scale(1.05);box-shadow:0 4px 12px var(--shadow);}
.btn-outline{background:#fff;border:2px solid var(--green-light);color:var(--green-dark);}
.btn-outline:hover{transform: scale(1.05);}
.btn-danger{background:#e53935;color:#fff;}
.btn-danger:hover{transform: scale(1.05);}

/* Formularios */
.field{display:flex;flex-direction:column;gap:8px;margin-bottom:14px;}
input, textarea{border:1px solid var(--green-light);border-radius:12px;padding:12px;font:inherit;}
input:focus, textarea:focus{outline:2px solid #a7d8aa;}
.right{display:flex;justify-content:flex-end;}

/* Empty state */
.empty{border:1px dashed #cfe7d1;border-radius:14px;padding:18px;text-align:center;color:#6d6d6d;font-weight:600;}

/* Recompensas */
.rewards-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(200px,1fr));
  gap:20px;
  margin-top:12px;
}
.reward-card{
  background:var(--green-light);
  border-radius:14px;
  padding:18px;
  text-align:center;
  transition: all 0.3s;
  box-shadow:0 2px 8px var(--shadow);
}
.reward-card:hover{ transform: scale(1.05); box-shadow:0 6px 16px var(--shadow);}
.reward-card h4{margin:10px 0; font-size:1.05rem;font-weight:600;}
.reward-card p{font-size:.95rem; color:#2b2b2b; line-height:1.3;}
.reward-card span{font-size:2rem; display:block; margin-bottom:8px;}
</style>
</head>
<body>

<header>
  <div class="brand">
    <div style="font-size:2rem;">🚀</div>
    <h1>Arranca Ya!</h1>
  </div>
  <nav>
    <a href="perfil.html">Perfil</a>
    <a href="cursos.html">Cursos</a>
    <a href="asistente.html">Asistente</a>
    <a href="historico.html">Histórico</a>
    <a href="asesoria.html">Asesoría</a>
    <a href="contacto.html">Contacto</a>
  </nav>
  <div class="user-profile">
    <img src="https://via.placeholder.com/60" alt="Usuario">
    <span>😎 Miguel Ángel</span>
  </div>
</header>

<div class="wrap">
  <div class="user-profile">
    <img id="profileImg" src="https://via.placeholder.com/60" alt="Usuario">
    <span id="profileName">👤 Usuario</span>
  </div>

  <div class="grid">
    <section class="card">
      <h2>Progreso</h2>
      <p class="muted">Lleva el control de tu avance y racha diaria.</p>
      <div class="stats" id="stats"></div>
      <div style="margin:10px 0 6px" class="muted">Progreso al siguiente nivel</div>
      <div class="bar"><div id="xpBar"></div></div>
    </section>

    <section class="card">
      <h2>Agregar reto personalizado</h2>
      <p class="muted">Crea misiones propias.</p>
      <div class="field">
        <label for="qTitle">Título del reto</label>
        <input id="qTitle" placeholder="Ej. Hablar con 5 clientes potenciales">
      </div>
      <div class="field">
        <label for="qDesc">Descripción</label>
        <textarea id="qDesc" rows="3" placeholder="¿Qué harás, dónde y con qué objetivo?"></textarea>
      </div>
      <div class="field">
        <label for="qXP">Recompensa (XP)</label>
        <input id="qXP" type="number" min="10" step="10" value="50">
      </div>
      <div class="right">
        <button class="btn btn-primary" id="addQuestBtn">Agregar reto</button>
      </div>
    </section>
  </div>

  <div class="grid" style="margin-top:16px">
    <section class="card">
      <h2>Retos activos</h2>
      <div id="activeList"></div>
    </section>

    <section class="card">
      <h2>Completados</h2>
      <div id="doneList"></div>
    </section>
  </div>

  <section class="card" style="margin-top:16px">
    <h3>Insignias conseguidas</h3>
    <div id="badgesRow"></div>
    <div class="right" style="margin-top:10px; gap:8px">
      <button class="btn btn-outline" id="shareBtn">Compartir progreso</button>
      <button class="btn btn-danger" id="resetBtn">Reiniciar gamificación</button>
    </div>
  </section>

  <section class="card" style="margin-top:16px">
    <h3>Recompensas disponibles</h3>
    <div class="rewards-grid" id="rewardsGrid"></div>
  </section>
</div>

<script>
let xp = 0;
let level = 1;
let streak = 0;
let activeQuests = [];
let doneQuests = [];
let badges = [];
let rewards = [
  {emoji:'🎁', title:'10% Descuento', desc:'En tu próxima compra'},
  {emoji:'🏆', title:'Medalla Oro', desc:'Por completar 5 retos'},
  {emoji:'💎', title:'20% Descuento', desc:'En productos seleccionados'},
  {emoji:'🎫', title:'Entrada Gratis', desc:'A un taller exclusivo'},
  {emoji:'🥇', title:'Medalla Platino', desc:'Por completar 10 retos'},
  {emoji:'🍀', title:'Sorteo Especial', desc:'Participa en el sorteo mensual'}
];

// Funciones
function updateProgress(){
  const statsDiv = document.getElementById('stats');
  statsDiv.innerHTML = `
    <div class="stat">Nivel: ${level}</div>
    <div class="stat">XP: ${xp}</div>
    <div class="stat">Racha: ${streak} 🔥</div>
  `;
  const xpBar = document.getElementById('xpBar');
  xpBar.style.width = Math.min((xp%100),100)+'%';
}

function renderQuests(){
  const activeDiv = document.getElementById('activeList');
  const doneDiv = document.getElementById('doneList');
  activeDiv.innerHTML = activeQuests.length ? activeQuests.map((q,i)=>
    `<div class="quest">
      <h4>${q.title}</h4>
      <p>${q.desc}</p>
      <div class="right"><button class="btn btn-primary" onclick="completeQuest(${i})">Completar (+${q.xp} XP)</button></div>
    </div>`).join('') : '<div class="empty">No hay retos activos</div>';
  doneDiv.innerHTML = doneQuests.length ? doneQuests.map(q=>
    `<div class="quest">
      <h4>${q.title}</h4>
      <p>${q.desc}</p>
    </div>`).join('') : '<div class="empty">No has completado retos</div>';
}

function renderBadges(){
  const badgesDiv = document.getElementById('badgesRow');
  badgesDiv.innerHTML = badges.length ? badges.map(b=>`<span class="badge">${b}</span>`).join('') : '<div class="empty">No tienes insignias aún</div>';
}

function renderRewards(){
  const rewardsDiv = document.getElementById('rewardsGrid');
  rewardsDiv.innerHTML = rewards.map(r=>`
    <div class="reward-card">
      <span>${r.emoji}</span>
      <h4>${r.title}</h4>
      <p>${r.desc}</p>
    </div>
  `).join('');
}

function addQuest(){
  const title = document.getElementById('qTitle').value;
  const desc = document.getElementById('qDesc').value;
  const xpVal = parseInt(document.getElementById('qXP').value);
  if(!title||!desc||!xpVal) return alert('Completa todos los campos');
  activeQuests.push({title:title, desc:desc, xp:xpVal});
  renderQuests();
  document.getElementById('qTitle').value='';
  document.getElementById('qDesc').value='';
  document.getElementById('qXP').value=50;
}

function completeQuest(i){
  const quest = activeQuests.splice(i,1)[0];
  doneQuests.push(quest);
  xp += quest.xp;
  streak++;
  if(streak%5===0) badges.push('🏅');
  if(xp>=level*100){level++; xp=0;}
  renderQuests();
  renderProgress();
  renderBadges();
}

function resetGamification(){
  xp=0; level=1; streak=0; activeQuests=[]; doneQuests=[]; badges=[];
  renderQuests(); renderProgress(); renderBadges();
}

function renderProgress(){updateProgress();}

document.getElementById('addQuestBtn').onclick = addQuest;
document.getElementById('resetBtn').onclick = resetGamification;

// Inicializar
renderQuests();
renderProgress();
renderBadges();
renderRewards();
</script>

</body>
</html>
